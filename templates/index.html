{% extends "base_layout.html" %}

{% block header %}
<div class="my-2" style="margin-left:40px;">
  <h3>IoT Device Programming III | Group 3</h3>
</div>
<div class="d-flex justify-content-center">
  <div style="height: 1px; background:black; width:95%;"></div>
</div>
{% endblock %}

{% block content %}
<div class="container mt-2" style="min-height:600px;">
  ❖ こんにちは、{{ name }}さん。
  <div class="mt-3">
    <h5>平均値</h5>
    <p>平均温度: {{ avg_temperature }} ℃</p>
    <p>平均湿度: {{ avg_humidity }} %</p>
  </div>
  <form action="/api/add_data" method="POST">
    <label for="example">追加データ温度</label>
    <input id="example" type="text" name="new_tempe">
    <input type="submit" value="送信">
  </form>
  <table class="table table-striped table-hover table-sm mt-1 text-nowrap" style="max-width:700px;">
    <thead>
      <tr>
        <th scope="col">No.</th>
        <th scope="col">ノード名</th>
        <th scope="col">時刻</th>
        <th scope="col">温度(℃)</th>
        <th scope="col">湿度(%)</th>
      </tr>
    </thead>
    <tbody>
    {% for i in range(0, max_value) %}
      <tr>
        <th scope="row">{{ i+1 }}</th>
        <td>{{ data_list[i][0] }}</td>
        <td>{{ data_list[i][1] }}</td>
        <td>{{ data_list[i][2] }}</td>
        <td>{{ data_list[i][3] }}</td>
      </tr>
    {% endfor %}
      
    </tbody>
  </table>
</div>
{% endblock %}

{% block footer %}
<div class="w-100 py-4 bg-secondary">
  <div class="text-white text-center">
    IoTデバイスプログラミングIII, グループ3
  </div>
</div>
{% endblock %}
